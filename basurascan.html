<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BasuraScan PH</title>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="BasuraScan">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/1541/1541413.png">
    <link rel="manifest" href="data:application/manifest+json,{'name':'BasuraScan','short_name':'BasuraScan','start_url':'.','display':'standalone','background_color':'#ffffff','theme_color':'#16a34a'}">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        /* Mobile height fix for map */
        #map { height: 45vh; width: 100%; border-radius: 24px 24px 0 0; }
        
        /* Tap effect for mobile buttons */
        .tap-scale:active { transform: scale(0.95); transition: 0.1s; }
        
        /* Smooth scrolling but hide bars */
        body {
            -ms-overflow-style: none;
            scrollbar-width: none;
            -webkit-tap-highlight-color: transparent;
        }
        body::-webkit-scrollbar { display: none; }

        .glass-nav {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-900">

    <header class="bg-white px-6 pt-8 pb-4 flex justify-between items-center sticky top-0 z-50">
        <div>
            <h1 class="text-2xl font-black text-green-600 tracking-tight">BasuraScan</h1>
            <div class="flex items-center space-x-1">
                <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Live: Barangay Monitoring</p>
            </div>
        </div>
        <div class="bg-green-100 p-2 rounded-2xl shadow-inner">
            <span class="text-xl">‚ôªÔ∏è</span>
        </div>
    </header>

    <main class="px-4 pb-32 space-y-6">

        <section class="bg-white p-2 rounded-[2.5rem] shadow-sm border border-gray-100">
            <div class="bg-gradient-to-br from-green-600 to-green-800 rounded-[2.3rem] p-8 text-center text-white relative overflow-hidden">
                <p class="text-xs opacity-80 mb-1 font-bold uppercase tracking-wider">Citizen Report</p>
                <h2 class="text-xl font-bold mb-6">See trash in public?</h2>
                
                <label class="tap-scale inline-flex items-center justify-center bg-white text-green-800 px-10 py-4 rounded-2xl font-black shadow-xl cursor-pointer">
                    <span class="mr-2 text-xl">üì∏</span>
                    SNAP & REPORT
                    <input type="file" accept="image/*" capture="environment" class="hidden" onchange="handleCapture(this)">
                </label>
            </div>
        </section>

        <div class="grid grid-cols-2 gap-4">
            <div class="bg-white p-6 rounded-[2rem] shadow-sm border border-gray-50">
                <span class="bg-blue-100 text-blue-600 p-2 rounded-lg text-xs">üìä</span>
                <p class="text-3xl font-black mt-3">128</p>
                <p class="text-[10px] text-gray-400 font-bold uppercase">Total Reports</p>
            </div>
            <div class="bg-white p-6 rounded-[2rem] shadow-sm border border-gray-50">
                <span class="bg-orange-100 text-orange-600 p-2 rounded-lg text-xs">üî•</span>
                <p class="text-3xl font-black mt-3">4</p>
                <p class="text-[10px] text-gray-400 font-bold uppercase">Hotspots</p>
            </div>
        </div>

        <section class="bg-white rounded-[2.5rem] shadow-sm overflow-hidden border border-gray-100">
            <div class="p-6 flex justify-between items-center">
                <h3 class="font-black text-gray-800">Trash Heatmap</h3>
                <span class="text-xs font-bold text-green-600">Near You</span>
            </div>
            <div id="map"></div>
        </section>

    </main>

    <nav class="fixed bottom-0 left-0 right-0 glass-nav border-t border-gray-100 px-10 py-5 flex justify-between items-center z-[1000]">
        <button class="tap-scale text-green-600 flex flex-col items-center">
            <span class="text-2xl">üè†</span>
        </button>
        <button class="tap-scale text-gray-300 flex flex-col items-center">
            <span class="text-2xl">üó∫Ô∏è</span>
        </button>
        <button class="tap-scale text-gray-300 flex flex-col items-center">
            <span class="text-2xl">üèÜ</span>
        </button>
        <button class="tap-scale text-gray-300 flex flex-col items-center">
            <span class="text-2xl">üë§</span>
        </button>
    </nav>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Setup Map
        const map = L.map('map', { 
            zoomControl: false,
            dragging: true,
            touchZoom: true
        }).setView([14.5995, 120.9842], 14);
        
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: 'BasuraScan'
        }).addTo(map);

        // Dummy Data for the Philippines context
        const hotspots = [
            [14.601, 120.985, "Plastic Waste"],
            [14.595, 120.980, "Blocked Sewer"],
            [14.605, 120.990, "Uncollected Bags"]
        ];

        hotspots.forEach(h => {
            L.circle([h[0], h[1]], {
                color: '#ef4444',
                fillColor: '#ef4444',
                fillOpacity: 0.5,
                radius: 150
            }).addTo(map).bindPopup(h[2]);
        });

        // Camera Logic
        function handleCapture(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function() {
                    alert("BasuraScan AI Analysis:\n\nDetected: Plastic & Mixed Waste\nLocation: Tagged via GPS\n\nThank you! Your report has been sent to the Barangay Command Center.");
                };
                reader.readAsDataURL(input.files[0]);
            }
        }
    </script>
</body>
</html>